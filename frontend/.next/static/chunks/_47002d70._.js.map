{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/Coding/nss/NSS_/frontend/src/components/admin-activity-card.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport Image from \"next/image\"\r\nimport { StaticImageData } from \"next/image\";\r\n\r\ntype ActivityCardProps = {\r\n  _id: string;\r\n  volunteer: string;\r\n  mess: string;\r\n  image: StaticImageData;\r\n}\r\n\r\nconst ActivityCard = (item: ActivityCardProps) => {\r\n  return (\r\n    <div className=\"w-80 relative rounded-xl overflow-hidden shadow-2xl transition-all duration-300 hover:scale-105 hover:shadow-[0_20px_50px_rgba(0,0,0,0.3)] bg-white\">\r\n      <Image\r\n        src={item.image}\r\n        alt=\"Activity image\"\r\n        className=\"w-full h-48 object-cover\"\r\n      />\r\n      <div className=\"py-4 border-t border-gray-200 px-4\">\r\n        <h2 className=\"text-lg font-semibold text-center text-gray-800\">\r\n          Volunteer: {item.volunteer}\r\n        </h2>\r\n        <h3 className=\"text-md text-center text-gray-600\">\r\n          Mess: {item.mess}\r\n        </h3>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default ActivityCard\r\nexport type { ActivityCardProps }"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAYA,MAAM,eAAe,CAAC;IACpB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,gIAAA,CAAA,UAAK;gBACJ,KAAK,KAAK,KAAK;gBACf,KAAI;gBACJ,WAAU;;;;;;0BAEZ,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;;4BAAkD;4BAClD,KAAK,SAAS;;;;;;;kCAE5B,6LAAC;wBAAG,WAAU;;4BAAoC;4BACzC,KAAK,IAAI;;;;;;;;;;;;;;;;;;;AAM1B;KAnBM;uCAqBS","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///D:/Coding/nss/NSS_/frontend/public/food2.png.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 768, height: 512, blurDataURL: \"data:image/webp;base64,UklGRuwAAABXRUJQVlA4TOAAAAAvBwABAM1VICICHgiACQMAAICsOeCTLgcHABAAMAAAAAEAAADA4QAAAAAAAAAAABEBAA7xKxEMBQAAgAcCkMIAAABw/v/5ABQM8iAAGAAAAAAAAAAAAAAAAAAEGAAAAADAAA0AAIBSinbeAwFIYQAAADj/+44QBEEDQQACAwADAADAAAAAAAAAAAAAAAAAAAAsEAIAIwCkL5HtZxWNq8r9fSGn7w7DMogs4Ia5upK/2PLajFdNmMDGftTnfF4uxb6RQCD8m3066cnl69Kwt3hAFmFC4Jg3zRvyGHLcRAdZAQ==\", blurWidth: 8, blurHeight: 5 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,wGAAA,CAAA,UAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,aAAa;IAAmW,WAAW;IAAG,YAAY;AAAE","debugId":null}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///D:/Coding/nss/NSS_/frontend/src/components/donation-detail-modal.tsx"],"sourcesContent":["import { useState } from \"react\"\r\nimport Image from \"next/image\"\r\nimport { adminAPI } from \"@/lib/api\"\r\nimport { toast } from \"sonner\"\r\n\r\nexport default function DonationDetailModal({ donation, onClose }: { donation: any, onClose: () => void }) {\r\n  const [showCredits, setShowCredits] = useState(false)\r\n  const [credits, setCredits] = useState(0)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n\r\n  const handleApprove = async () => {\r\n    setLoading(true)\r\n    setError(\"\")\r\n    try {\r\n      const response = await adminAPI.approveDonation({ donationid: donation._id, credits })\r\n      if (response.statusText === \"OK\") {\r\n        toast.success(\"Donation approved\", {\r\n          description: `${credits} credits assigned!`, richColors: true\r\n        })\r\n        onClose()\r\n      }\r\n    } catch (e) {\r\n      console.error(\"Failed to approve donation:\", e);\r\n      setError(\"Failed to approve donation\");\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleReject = async () => {\r\n    setLoading(true)\r\n    setError(\"\")\r\n    try {\r\n      const response = await adminAPI.rejectDonation({ donationid: donation._id})\r\n      if (response.statusText === \"OK\") {\r\n        toast.message(\"Donation request rejected successfully\", {\r\n          richColors:true\r\n        })\r\n        onClose()\r\n      }\r\n    } catch (e) {\r\n      console.error(\"Failed to approve donation:\", e);\r\n      setError(\"Failed to approve donation\");\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-lg p-8 max-w-lg w-full relative border-2 border-gray-100 shadow-2xl\">\r\n        <button className=\"absolute top-2 right-2 text-xl\" onClick={onClose}>Ã—</button>\r\n        <h2 className=\"text-2xl font-bold mb-4\">Donation Details</h2>\r\n        <div className=\"space-y-2\">\r\n          <div><b>Volunteer Name:</b> {donation.volunteer}</div>\r\n          <div><b>Mess Name:</b> {donation.mess}</div>\r\n          <div><b>Food Type:</b> {donation.foodtype}</div>\r\n          <div><b>Date:</b> {donation.donationdate && new Date(donation.donationdate).toLocaleString()}</div>\r\n          <div><b>Quantity:</b> {donation.quantity}</div>\r\n          <div><b>To be Consumed Before:</b> {donation.bestbefore}</div>\r\n          <div><b>Category:</b> {donation.category}</div>\r\n          <div><b>Description:</b> {donation.description}</div>\r\n          {donation.imgurl && (\r\n            <div>\r\n              <b>Photo Proof:</b>\r\n              <Image src={donation.imgurl} alt=\"Photo Proof\" width={300} height={200} className=\"rounded mt-2\" />\r\n            </div>\r\n          )}\r\n        </div>\r\n        {error && <div className=\"text-red-500 mt-2\">{error}</div>}\r\n        {!showCredits ? (\r\n          <div className=\"flex gap-4 mt-6\">\r\n            <button className=\"bg-green-500 text-white px-4 py-2 rounded\" onClick={() => setShowCredits(true)}>Approve</button>\r\n            <button className=\"bg-red-500 text-white px-4 py-2 rounded\" onClick={handleReject}>Reject</button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"mt-2\">\r\n            <label className=\"block mb-2 font-bold\">Assign Credits</label>\r\n            <div className=\"flex gap-6 items-center pb-2\">\r\n              <input\r\n                type=\"range\"\r\n                min={0}\r\n                max={10}\r\n                step={1}\r\n                value={credits}\r\n                onChange={e => setCredits(Number(e.target.value))}\r\n                className=\"py-1 min-w-90 mb-2\"\r\n                disabled={loading}\r\n                list=\"tickmarks\"\r\n              />\r\n              <datalist id=\"tickmarks\">\r\n                <option value=\"0\" label=\"0\"></option>\r\n                <option value=\"1\" label=\"1\"></option>\r\n                <option value=\"2\" label=\"2\"></option>\r\n                <option value=\"3\" label=\"3\"></option>\r\n                <option value=\"4\" label=\"4\"></option>\r\n                <option value=\"5\" label=\"5\"></option>\r\n                <option value=\"6\"></option>\r\n                <option value=\"7\"></option>\r\n                <option value=\"8\"></option>\r\n                <option value=\"9\"></option>\r\n                <option value=\"10\"></option>\r\n              </datalist>\r\n              <input type=\"text\" disabled={true} value={credits} className=\"border-2 rounded-lg border-gray-400 bg-slate-200 font-semibold text-lg text-center\" size={2} />\r\n            </div>\r\n            <button\r\n              className=\"bg-green-600 text-white px-4 py-2 rounded w-full\"\r\n              onClick={handleApprove}\r\n              disabled={loading || credits <= 0}\r\n            >\r\n              {loading ? \"Approving...\" : \"Approve\"}\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 574, "column": 0}, "map": {"version":3,"sources":["file:///D:/Coding/nss/NSS_/frontend/src/app/%28app%29/admin/donations/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport ActivityCard, { ActivityCardProps } from \"@/components/admin-activity-card\"\r\nimport foodImg from \"@/../public/food2.png\"\r\nimport { adminAPI } from \"@/lib/api\"\r\nimport DonationDetailModal from \"@/components/donation-detail-modal\"\r\n\r\nconst Donations = () => {\r\n  const [donations, setDonations] = useState<ActivityCardProps[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [selectedDonation, setSelectedDonation] = useState<any | null>(null)\r\n\r\n  useEffect(() => {\r\n    const fetchDonations = async () => {\r\n      try {\r\n        const res = await adminAPI.getDonations()\r\n        const mapped = (res.donations || []).map((item: any) => ({\r\n          _id: item._id,\r\n          image: foodImg,\r\n          mess: item.messname,\r\n          volunteer: item.volunteerid?.name || \"Unknown\",\r\n          foodtype: item.foodtype,\r\n          donationdate: item.donationdate,\r\n          quantity: item.quantity,\r\n          bestbefore: item.bestbefore,\r\n          category: item.category,\r\n          description: item.description,\r\n          imgurl: item.imgurl,\r\n        }))\r\n        setDonations(mapped)\r\n      } catch (err) {\r\n        setDonations([])\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n    fetchDonations()\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"w-full h-full px-4\">\r\n      <div className=\"w-full\">\r\n        <h1 className=\"text-center text-3xl font-bold mb-5\">Donations</h1>\r\n      </div>\r\n      {loading ? (\r\n        <div className=\"text-center\">Loading...</div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 my-5 justify-items-center\">\r\n          {donations.length === 0 ? (\r\n            <div className=\"col-span-3 text-center text-gray-500\">No donations found</div>\r\n          ) : (\r\n            donations.map((item) => (\r\n              <div key={item._id} onClick={() => setSelectedDonation(item)} className=\"cursor-pointer\">\r\n                <ActivityCard {...item} />\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      )}\r\n      {selectedDonation && (\r\n        <DonationDetailModal\r\n          donation={selectedDonation}\r\n          onClose={() => setSelectedDonation(null)}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Donations\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQA,MAAM,YAAY;;IAChB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAuB,EAAE;IAClE,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAc;IAErE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,MAAM;sDAAiB;oBACrB,IAAI;wBACF,MAAM,MAAM,MAAM,oHAAA,CAAA,WAAQ,CAAC,YAAY;wBACvC,MAAM,SAAS,CAAC,IAAI,SAAS,IAAI,EAAE,EAAE,GAAG;yEAAC,CAAC,OAAc,CAAC;oCACvD,KAAK,KAAK,GAAG;oCACb,OAAO,iQAAA,CAAA,UAAO;oCACd,MAAM,KAAK,QAAQ;oCACnB,WAAW,KAAK,WAAW,EAAE,QAAQ;oCACrC,UAAU,KAAK,QAAQ;oCACvB,cAAc,KAAK,YAAY;oCAC/B,UAAU,KAAK,QAAQ;oCACvB,YAAY,KAAK,UAAU;oCAC3B,UAAU,KAAK,QAAQ;oCACvB,aAAa,KAAK,WAAW;oCAC7B,QAAQ,KAAK,MAAM;gCACrB,CAAC;;wBACD,aAAa;oBACf,EAAE,OAAO,KAAK;wBACZ,aAAa,EAAE;oBACjB,SAAU;wBACR,WAAW;oBACb;gBACF;;YACA;QACF;8BAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAG,WAAU;8BAAsC;;;;;;;;;;;YAErD,wBACC,6LAAC;gBAAI,WAAU;0BAAc;;;;;qCAE7B,6LAAC;gBAAI,WAAU;0BACZ,UAAU,MAAM,KAAK,kBACpB,6LAAC;oBAAI,WAAU;8BAAuC;;;;;2BAEtD,UAAU,GAAG,CAAC,CAAC,qBACb,6LAAC;wBAAmB,SAAS,IAAM,oBAAoB;wBAAO,WAAU;kCACtE,cAAA,6LAAC,kJAAA,CAAA,UAAY;4BAAE,GAAG,IAAI;;;;;;uBADd,KAAK,GAAG;;;;;;;;;;YAOzB,kCACC,6LAAC,oJAAA,CAAA,UAAmB;gBAClB,UAAU;gBACV,SAAS,IAAM,oBAAoB;;;;;;;;;;;;AAK7C;GA5DM;KAAA;uCA8DS","debugId":null}}]
}