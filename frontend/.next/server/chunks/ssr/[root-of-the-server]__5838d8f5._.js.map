{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///D:/NSS_/frontend/src/lib/config.ts"],"sourcesContent":["export const config = {\r\n  apiUrl: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:9000',\r\n  appName: 'NSS Food Connect',\r\n  version: '1.0.0'\r\n}; "],"names":[],"mappings":";;;AAAO,MAAM,SAAS;IACpB,QAAQ,6DAAmC;IAC3C,SAAS;IACT,SAAS;AACX","debugId":null}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///D:/NSS_/frontend/src/lib/api.ts"],"sourcesContent":["import axios, { AxiosError } from 'axios';\r\nimport { jwtDecode } from 'jwt-decode';\r\n\r\nimport { config } from './config';\r\n\r\n// Create axios instance with base configuration\r\nconst api = axios.create({\r\n  baseURL: config.apiUrl,\r\n  withCredentials: true,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Request interceptor to add auth token if available\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    // You can add auth headers here if needed\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor to handle common errors\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error: AxiosError) => {\r\n    console.error('API Error:', {\r\n      status: error.response?.status,\r\n      statusText: error.response?.statusText,\r\n      data: error.response?.data,\r\n      url: error.config?.url,\r\n      method: error.config?.method\r\n    });\r\n\r\n    if (error.response?.status === 401) {\r\n      // Handle unauthorized access\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('user');\r\n        window.location.href = '/auth/login';\r\n      }\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Auth API functions\r\nexport const authAPI = {\r\n  login: async (email: string, password: string) => {\r\n    const response = await api.post('/auth/login', { email, password });\r\n    return response.data;\r\n  },\r\n\r\n  register: async (name: string, email: string, password: string, enrollmentNumber: string, year: number) => {\r\n    const response = await api.post('/auth/register', { name, email, password, enrollmentNumber, year });\r\n    return response.data;\r\n  },\r\n\r\n  logout: async () => {\r\n    const response = await api.post('/auth/logout');\r\n    return response.data;\r\n  },\r\n\r\n  getCurrentUser: async () => {\r\n    const response = await api.get('/auth/me');\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// Volunteer API functions\r\nexport const volunteerAPI = {\r\n  getActivities: async () => {\r\n    const response = await api.get('/volunteer/activities');\r\n    return response.data;\r\n  },\r\n\r\n  donate: async (donationData: any) => {\r\n    const response = await api.post('/volunteer/donate', donationData);\r\n    return response.data;\r\n  },\r\n\r\n  getProfile: async () => {\r\n    const response = await api.get('/volunteer/profile');\r\n    return response.data;\r\n  },\r\n};\r\n\r\n// Admin API functions\r\nexport const adminAPI = {\r\n  getDonations: async () => {\r\n    const response = await api.get('/admin/donations');\r\n    return response.data;\r\n  },\r\n\r\n  getVolunteers: async () => {\r\n    const response = await api.get('/admin/volunteers');\r\n    return response.data;\r\n  },\r\n\r\n  approveDonation: async ({ donationid, credits }: { donationid: string, credits: number }) => {\r\n    return await axios.post(\r\n      `${process.env.NEXT_PUBLIC_API_URL}/admin/approve`,\r\n      { donationid, credits },\r\n      { withCredentials: true }\r\n    )\r\n  },\r\n\r\n  rejectDonation: async({donationid}:{donationid:string})=>{\r\n    return await axios.post(\r\n      `${process.env.NEXT_PUBLIC_API_URL}/admin/reject`,\r\n      { donationid },\r\n      { withCredentials: true }\r\n    )\r\n  }\r\n};\r\n\r\n// Utility function to decode JWT token from cookies\r\nexport const getTokenFromCookies = () => {\r\n  if (typeof document === 'undefined') return null;\r\n  \r\n  const token = document.cookie\r\n    .split('; ')\r\n    .find((row) => row.startsWith('access_token='))\r\n    ?.split('=')[1];\r\n  \r\n  return token || null;\r\n};\r\n\r\n// Utility function to decode user from token\r\nexport const decodeUserFromToken = (token: string) => {\r\n  try {\r\n    return jwtDecode(token);\r\n  } catch (error) {\r\n    console.error('Error decoding token:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default api; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///D:/NSS_/frontend/src/context/AuthProvider.tsx"],"sourcesContent":["'use client'\r\nimport { createContext, useContext, useState, useEffect } from \"react\";\r\nimport { jwtDecode } from \"jwt-decode\"\r\nimport { toast } from \"sonner\";\r\nimport { getTokenFromCookies, decodeUserFromToken } from \"@/lib/api\";\r\n\r\nexport const AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nconst AuthProvider = ({ children }: { children: React.ReactNode }) => {\r\n    const [user, setUser] = useState<jwtPayload | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // Initialize user from token on mount\r\n    useEffect(() => {\r\n        const initializeAuth = () => {\r\n            try {\r\n                const token = getTokenFromCookies();\r\n                if (token) {\r\n                    const decodedUser = decodeUserFromToken(token);\r\n                    if (decodedUser) {\r\n                        setUser(decodedUser);\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.error('Error initializing auth:', error);\r\n                // Clear invalid token\r\n                document.cookie = 'access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        initializeAuth();\r\n    }, []);\r\n\r\n    const login = (token: string) => {\r\n        try {\r\n            const decodedUser = decodeUserFromToken(token);\r\n            // console.log('AuthProvider: Decoded user from token:', decodedUser);\r\n            if (decodedUser) {\r\n                setUser(decodedUser);\r\n                // console.log('AuthProvider: User set successfully');\r\n                return true;\r\n            }\r\n        } catch (error) {\r\n            console.error('Error decoding token during login:', error);\r\n        }\r\n        return false;\r\n    };\r\n\r\n    const logout = () => {\r\n        setUser(null);\r\n        // Clear the cookie\r\n        document.cookie = 'access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';\r\n        toast.success('Logged out successfully');\r\n    };\r\n\r\n    const value = {\r\n        user,\r\n        setUser,\r\n        login,\r\n        logout,\r\n        loading\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\nexport default AuthProvider"],"names":[],"mappings":";;;;;AACA;AAEA;AACA;AAJA;;;;;AAMO,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA+B;AAEtE,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAiC;IAC7D,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAqB;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,sCAAsC;IACtC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,iBAAiB;YACnB,IAAI;gBACA,MAAM,QAAQ,CAAA,GAAA,iHAAA,CAAA,sBAAmB,AAAD;gBAChC,IAAI,OAAO;oBACP,MAAM,cAAc,CAAA,GAAA,iHAAA,CAAA,sBAAmB,AAAD,EAAE;oBACxC,IAAI,aAAa;wBACb,QAAQ;oBACZ;gBACJ;YACJ,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,4BAA4B;gBAC1C,sBAAsB;gBACtB,SAAS,MAAM,GAAG;YACtB,SAAU;gBACN,WAAW;YACf;QACJ;QAEA;IACJ,GAAG,EAAE;IAEL,MAAM,QAAQ,CAAC;QACX,IAAI;YACA,MAAM,cAAc,CAAA,GAAA,iHAAA,CAAA,sBAAmB,AAAD,EAAE;YACxC,sEAAsE;YACtE,IAAI,aAAa;gBACb,QAAQ;gBACR,sDAAsD;gBACtD,OAAO;YACX;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,sCAAsC;QACxD;QACA,OAAO;IACX;IAEA,MAAM,SAAS;QACX,QAAQ;QACR,mBAAmB;QACnB,SAAS,MAAM,GAAG;QAClB,wIAAA,CAAA,QAAK,CAAC,OAAO,CAAC;IAClB;IAEA,MAAM,QAAQ;QACV;QACA;QACA;QACA;QACA;IACJ;IAEA,qBACI,8OAAC,YAAY,QAAQ;QAAC,OAAO;kBACxB;;;;;;AAGb;uCAEe","debugId":null}},
    {"offset": {"line": 348, "column": 0}, "map": {"version":3,"sources":["file:///D:/NSS_/frontend/src/components/ui/sonner.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useTheme } from \"next-themes\"\r\nimport { Toaster as Sonner, ToasterProps } from \"sonner\"\r\n\r\nconst Toaster = ({ ...props }: ToasterProps) => {\r\n  const { theme = \"system\" } = useTheme()\r\n\r\n  return (\r\n    <Sonner\r\n      theme={theme as ToasterProps[\"theme\"]}\r\n      className=\"toaster group\"\r\n      style={\r\n        {\r\n          \"--normal-bg\": \"var(--popover)\",\r\n          \"--normal-text\": \"var(--popover-foreground)\",\r\n          \"--normal-border\": \"var(--border)\",\r\n        } as React.CSSProperties\r\n      }\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Toaster }\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,UAAU,CAAC,EAAE,GAAG,OAAqB;IACzC,MAAM,EAAE,QAAQ,QAAQ,EAAE,GAAG,CAAA,GAAA,gJAAA,CAAA,WAAQ,AAAD;IAEpC,qBACE,8OAAC,wIAAA,CAAA,UAAM;QACL,OAAO;QACP,WAAU;QACV,OACE;YACE,eAAe;YACf,iBAAiB;YACjB,mBAAmB;QACrB;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}}]
}